const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./NotePreview-CqIFfCeo.js","./index-DP3cqZMk.js","./index-DuKfFomR.css","./useQuery-C2j6PTNF.js","./owner-eagQWD7v.js","./StyledButton-Dw1NSLdk.js","./proxy-Nduva4Ti.js","./utils-CfXHZo-d.js","./FormInput-Cm8TmlFT.js","./provider-CEmImVai.js","./viewport-CIRotvhe.js","./spring-C80N1tKa.js","./index-ruaAFTxf.js","./use-is-unmounted-s8iE4ntz.js","./use-event-callback-CNvn5lcI.js","./dom-BowoBODo.js","./use-drag-controls-BQqh8BIu.js","./visual-element-CEM7Lww2.js","./index-D6p5TRFo.js","./use-ref-value-Bw8XjGYB.js","./Shiki-BY37ZjXb.js","./index-D7tm2AmB.js","./Shiki-Dqiqlhuf.css","./use-motion-template-CG2NZtUh.js","./Gallery-C9cHB7g0.js","./image-qDpgj1f_.js","./Gallery-CymVOFTr.css","./alert-CD03bL8S.js","./index-BqTMT-9N.js","./use-is-dark-BUJCkWoz.js","./index-OzIUyYOs.css","./FloatPopover-SF_LLQpc.js","./SocialSourceLink-Dld2WA2_.js","./Collapse-vVB60taR.js","./alert-CJ4au8vr.css","./customParseFormat-B6mKyGeh.js","./utils-DvuHRMBz.css","./cookie-Dph3Mm-z.js","./NotePreview-BsbnE3nB.css","./PostPreview-C9UmXphs.js"])))=>i.map(i=>d[i]);
import{r as v,j as s,_ as ie,g as he,c as _e,s as Y}from"./index-DP3cqZMk.js";import{I as J,H as le}from"./owner-eagQWD7v.js";import{L as pe,c as te}from"./StyledButton-Dw1NSLdk.js";import{u as ge,L as Ne,g as ke}from"./image-qDpgj1f_.js";import{b as Ce,u as $e}from"./viewport-CIRotvhe.js";import{u as xe}from"./provider-CEmImVai.js";import{m as Pe}from"./spring-C80N1tKa.js";import{m as re}from"./proxy-Nduva4Ti.js";import{g as Te}from"./index-ruaAFTxf.js";import{p as Ee}from"./dom-BowoBODo.js";import{u as ee,a as Se}from"./use-motion-template-CG2NZtUh.js";var se=(t=>(t.Click="click",t.Interaction="interaction",t.Impression="impression",t))(se||{});const Le=t=>{const{shouldTrack:e=!0,...r}=t;return e?s.jsx(ve,{...r}):s.jsx(s.Fragment,{children:t.children})},ve=v.memo(t=>{const[e,r]=v.useState(!1),u=Ce(),{ref:m}=ge({initialInView:!1,triggerOnce:!0,onChange(a){if(a){if(r(!0),u)return;document.dispatchEvent(new CustomEvent("impression",{detail:{action:t.action??se.Impression,label:t.trackerMessage}})),t.onTrack?.()}}});return s.jsxs(s.Fragment,{children:[t.children,!e&&s.jsx("span",{ref:m})]})});ve.displayName="ImpressionView";const ce=t=>{const{dismissAll:e,dismissTop:r}=xe();return s.jsxs("div",{className:"scrollbar-none relative mx-auto mt-[10vh] max-w-full overflow-auto px-2 lg:max-w-[65rem] lg:p-0",children:[s.jsx(Le,{action:se.Impression,trackerMessage:"Peek Modal"}),s.jsx(re.div,{initial:{opacity:.5,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:Pe,className:"scrollbar-none",children:t.children}),s.jsxs(re.div,{initial:!0,exit:{opacity:0},className:"fixed right-2 top-2 flex items-center gap-4",children:[s.jsxs(pe,{className:"flex size-8 rounded-full p-1 shadow-sm ring-1 ring-zinc-200 center dark:ring-neutral-800",href:t.to,onClick:e,children:[s.jsx("i",{className:"icon-[mingcute--fullscreen-2-line] text-lg"}),s.jsx("span",{className:"sr-only",children:"Go to this link"})]}),s.jsxs("button",{className:"flex size-8 rounded-full p-1 shadow-sm ring-1 ring-zinc-200 center dark:ring-neutral-800",onClick:r,children:[s.jsx("i",{className:"icon-[mingcute--close-line] text-lg"}),s.jsx("span",{className:"sr-only",children:"Dimiss"})]})]})]})},Ie=()=>{const t=$e(),{present:e}=xe();return v.useCallback(r=>{if(t)return;const u={clickOutsideToDismiss:!0,title:"Preview",modalClassName:"relative mx-auto mt-[10vh] scrollbar-none max-w-full overflow-auto px-2 lg:max-w-[65rem] lg:p-0"};return r.startsWith("/notes/")?(requestAnimationFrame(async()=>{const m=await ie(()=>import("./NotePreview-CqIFfCeo.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38]),import.meta.url).then(a=>a.NotePreview);e({...u,CustomModalComponent:()=>s.jsx(ce,{to:r,children:s.jsx(m,{noteId:Number.parseInt(r.split("/").pop())})}),content:()=>null})}),!0):r.startsWith("/posts/")?(requestAnimationFrame(async()=>{const m=await ie(()=>import("./PostPreview-C9UmXphs.js"),__vite__mapDeps([39,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]),import.meta.url).then(h=>h.PostPreview),a=r.split("/"),c=a.pop(),d=a.pop();e({...u,CustomModalComponent:()=>s.jsx(ce,{to:r,children:s.jsx(m,{category:d,slug:c})}),content:()=>null})}),!0):!1},[t,e])};var $=(t=>(t.GHRepo="gh-repo",t.Self="self",t.MixSpace="mx-space",t.GHCommit="gh-commit",t.GHPr="gh-pr",t.TMDB="tmdb",t.LEETCODE="leetcode",t))($||{}),Me=function(t,e){e=e||{},e.listUnicodeChar=e.hasOwnProperty("listUnicodeChar")?e.listUnicodeChar:!1,e.stripListLeaders=e.hasOwnProperty("stripListLeaders")?e.stripListLeaders:!0,e.gfm=e.hasOwnProperty("gfm")?e.gfm:!0,e.useImgAltText=e.hasOwnProperty("useImgAltText")?e.useImgAltText:!0,e.abbr=e.hasOwnProperty("abbr")?e.abbr:!1,e.replaceLinksWithURL=e.hasOwnProperty("replaceLinksWithURL")?e.replaceLinksWithURL:!1,e.htmlTagsToSkip=e.hasOwnProperty("htmlTagsToSkip")?e.htmlTagsToSkip:[],e.throwError=e.hasOwnProperty("throwError")?e.throwError:!1;var r=t||"";r=r.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*/gm,"");try{e.stripListLeaders&&(e.listUnicodeChar?r=r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,e.listUnicodeChar+" $1"):r=r.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),e.gfm&&(r=r.replace(/\n={2,}/g,`
`).replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),e.abbr&&(r=r.replace(/\*\[.*\]:.*\n/,"")),r=r.replace(/<[^>]*>/g,"");var u=new RegExp("<[^>]*>","g");if(e.htmlTagsToSkip.length>0){var m="(?!"+e.htmlTagsToSkip.join("|")+")";u=new RegExp("<"+m+"[^>]*>","ig")}r=r.replace(u,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,e.useImgAltText?"$1":"").replace(/\[([^\]]*?)\][\[\(].*?[\]\)]/g,e.replaceLinksWithURL?"$2":"$1").replace(/^(\n)?\s{0,3}>\s?/gm,"$1").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s*( (.+))? +#+$|^(\n)?\s{0,}#{1,6}\s*( (.+))?$/gm,"$1$3$4$6").replace(/([\*]+)(\S)(.*?\S)??\1/g,"$2$3").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch(a){if(e.throwError)throw a;return console.error("remove-markdown encountered error: %s",a),t}return r};const Re=he(Me);var ye={exports:{}};/**
* Generate unique and beautiful colors from any texts or numbers
 * @version v1.1.1
 * @link https://github.com/dastoori/uniqolor#README
 * @author Rasool Dastoori
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */(function(t,e){(function(r,u){t.exports=u()})(_e,function(){function r(i,o){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var l,p,g,x,w=[],N=!0,T=!1;try{if(g=(n=n.call(i)).next,o!==0)for(;!(N=(l=g.call(n)).done)&&(w.push(l.value),w.length!==o);N=!0);}catch(O){T=!0,p=O}finally{try{if(!N&&n.return!=null&&(x=n.return(),Object(x)!==x))return}finally{if(T)throw p}}return w}}function u(i,o){return c(i)||r(i,o)||h(i,o)||y()}function m(i){return a(i)||d(i)||h(i)||b()}function a(i){if(Array.isArray(i))return f(i)}function c(i){if(Array.isArray(i))return i}function d(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function h(i,o){if(i){if(typeof i=="string")return f(i,o);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set")return Array.from(i);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(i,o)}}function f(i,o){(o==null||o>i.length)&&(o=i.length);for(var n=0,l=new Array(o);n<o;n++)l[n]=i[n];return l}function b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P=[0,100],_=[0,100],k=function(o){return"".concat(o.length===1?"0":"").concat(o)},C=function(o,n,l){return Math.max(Math.min(o,l),n)},E=function(o,n){return Math.floor(Math.random()*(n-o+1))+o},X=function i(o,n,l){for(var p=E(o,n),g=0;g<l?.length;g++){var x=l[g];if(x?.length===2&&p>=x[0]&&p<=x[1])return i(o,n,l)}return p},Q=function(o){for(var n=o.length,l=0,p=0;p<n;p++)l=(l<<5)-l+o.charCodeAt(p),l&=l;return l},S=function(o,n){return typeof n=="number"?n:o%Math.abs(n[1]-n[0])+n[0]},I=function(o,n){return typeof o=="number"?C.apply(void 0,[Math.abs(o)].concat(m(n))):o.length===1||o[0]===o[1]?C.apply(void 0,[Math.abs(o[0])].concat(m(n))):[Math.abs(C.apply(void 0,[o[0]].concat(m(n)))),C.apply(void 0,[Math.abs(o[1])].concat(m(n)))]},U=function(o,n,l){return l<0?l+=1:l>1&&(l-=1),l<1/6?o+(n-o)*6*l:l<1/2?n:l<2/3?o+(n-o)*(2/3-l)*6:o},M=function(o,n,l){var p,g,x;if(o/=360,n/=100,l/=100,n===0)p=g=x=l;else{var w=l<.5?l*(1+n):l+n-l*n,N=2*l-w;p=U(N,w,o+1/3),g=U(N,w,o),x=U(N,w,o-1/3)}return[Math.round(p*255),Math.round(g*255),Math.round(x*255)]},R=function(o,n,l,p){return(o*299+n*587+l*114)/1e3>=p},A=function(o,n,l){return"hsl(".concat(o,", ").concat(n,"%, ").concat(l,"%)")},W=function(o,n,l,p){switch(p){case"rgb":return"rgb(".concat(o,", ").concat(n,", ").concat(l,")");case"hex":default:return"#".concat(k(o.toString(16))).concat(k(n.toString(16))).concat(k(l.toString(16)))}},z=function(o){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=n.format,p=l===void 0?"hex":l,g=n.saturation,x=g===void 0?[50,55]:g,w=n.lightness,N=w===void 0?[50,60]:w,T=n.differencePoint,O=T===void 0?130:T,D=Math.abs(Q(String(o))),G=S(D,[0,360]),B=S(D,I(x,P)),F=S(D,I(N,_)),Z=M(G,B,F),H=u(Z,3),q=H[0],ae=H[1],oe=H[2];return{color:p==="hsl"?A(G,B,F):W(q,ae,oe,p),isLight:R(q,ae,oe,O)}};return z.random=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=i.format,n=o===void 0?"hex":o,l=i.saturation,p=l===void 0?[50,55]:l,g=i.lightness,x=g===void 0?[50,60]:g,w=i.differencePoint,N=w===void 0?130:w,T=i.excludeHue;p=I(p,P),x=I(x,_);var O=T?X(0,359,T):E(0,359),D=typeof p=="number"?p:E.apply(void 0,m(p)),G=typeof x=="number"?x:E.apply(void 0,m(x)),B=M(O,D,G),F=u(B,3),Z=F[0],H=F[1],q=F[2];return{color:n==="hsl"?A(O,D,G):W(Z,H,q,n),isLight:R(Z,H,q,N)}},z})})(ye);var Ae=ye.exports;const be=he(Ae);function Oe(t){return s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...t,children:s.jsxs("g",{fill:"none",fillRule:"evenodd",children:[s.jsx("path",{d:"M24 0v24H0V0h24ZM12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036c-.01-.003-.019 0-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.016-.018Zm.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01l-.184-.092Z"}),s.jsx("path",{fill:"currentColor",d:"M13.08 2.868a1.25 1.25 0 0 0-2.16 0L8.126 7.665L2.697 8.842a1.25 1.25 0 0 0-.667 2.054l3.7 4.141l-.56 5.525a1.25 1.25 0 0 0 1.748 1.27L12 19.592l5.082 2.24a1.25 1.25 0 0 0 1.748-1.27l-.56-5.525l3.7-4.14a1.25 1.25 0 0 0-.667-2.055l-5.428-1.176l-2.795-4.798ZM12 17.523c.172 0 .344.035.504.106l4.206 1.854l-.463-4.573a1.25 1.25 0 0 1 .312-.959l3.062-3.427l-4.492-.973a1.25 1.25 0 0 1-.816-.592L12 4.987v12.536Z"})]})})}const De={typescript:"#2b7489",javascript:"#f1e05a",html:"#e34c26",java:"#b07219",go:"#00add8",vue:"#2c3e50",css:"#563d7c",yaml:"#cb171e",json:"#292929",markdown:"#083fa1",csharp:"#178600","c#":"#178600",c:"#555555",cpp:"#f34b7d","c++":"#f34b7d",python:"#3572a5",lua:"#000080",vimscript:"#199f4b",shell:"#89e051",dockerfile:"#384d54",ruby:"#701516",php:"#4f5d95",lisp:"#3fb68b",kotlin:"#F18E33",rust:"#dea584",dart:"#00B4AB",swift:"#ffac45","objective-c":"#438eff","objective-c++":"#6866fb",r:"#198ce7",matlab:"#e16737",scala:"#c22d40",sql:"#e38c00",perl:"#0298c3"};let L=!1,V=[];function we(){V.forEach(t=>t(L))}function ue(t){(t.metaKey||t.ctrlKey)&&!L&&(L=!0,we())}function de(){L&&(L=!1,we())}function Fe(t){V.push(t),t(L)}function He(t){V=V.filter(e=>e!==t)}function Ve(){const[t,e]=v.useState(L);return v.useEffect(()=>(Fe(e),V.length===1&&(window.addEventListener("keydown",ue),window.addEventListener("keyup",de)),()=>{He(e),V.length===0&&(window.removeEventListener("keydown",ue),window.removeEventListener("keyup",de))}),[]),t}const me="https://api.github.com",Ue="/api/gh",ne=t=>{const e=t.replace(me,"");return Promise.any([fetch(me+e).then(r=>{if(r.status===403)throw new Error("GitHub API rate limit exceeded");return r.json()}),fetch(Ue+e).then(r=>r.json())])},K=Symbol(),Ge=Symbol(),qe=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),je=qe?v.useEffect:v.useLayoutEffect,We=Y.unstable_runWithPriority?t=>{try{Y.unstable_runWithPriority(Y.unstable_NormalPriority,t)}catch(e){if(e.message==="Not implemented.")t();else throw e}}:t=>t(),ze=t=>({value:r,children:u})=>{const m=v.useRef(r),a=v.useRef(0),[c,d]=v.useState(null);c&&(c(r),d(null));const h=v.useRef();if(!h.current){const f=new Set,b=(y,P)=>{a.current+=1;const _={n:a.current};P?.suspense&&(_.n*=-1,_.p=new Promise(k=>{d(()=>C=>{_.v=C,delete _.p,k(C)})})),f.forEach(k=>k(_)),y()};h.current={[K]:{v:m,n:a,l:f,u:b}}}return je(()=>{m.current=r,a.current+=1,We(()=>{h.current[K].l.forEach(f=>{f({n:a.current,v:r})})})},[r]),v.createElement(t,{value:h.current},u)};function Be(t){const e=v.createContext({[K]:{v:{current:t},n:{current:-1},l:new Set,u:r=>r()}});return e[Ge]=e.Provider,e.Provider=ze(e.Provider),delete e.Consumer,e}function Ze(t,e){const r=v.useContext(t)[K],{v:{current:u},n:{current:m},l:a}=r,c=e(u),[d,h]=v.useReducer((f,b)=>{if(!b)return[u,c];if("p"in b)throw b.p;if(b.n===m)return Object.is(f[1],c)?f:[u,c];try{if("v"in b){if(Object.is(f[0],b.v))return f;const y=e(b.v);return Object.is(f[1],y)?f:[b.v,y]}}catch{}return[...f]},[u,c]);return Object.is(d[1],c)||h(),je(()=>(a.add(h),()=>{a.delete(h)}),[a]),d[1]}const Ke={tmdb:!1},Je=Be(Ke),Xe=t=>Ze(Je,e=>e[t]),Qe="_contents_wowjc_29",Ye="_title_wowjc_38",et="_desc_wowjc_50",tt="_image_wowjc_60",rt="_skeleton_wowjc_70",st="_error_wowjc_98",j={"card-grid":"_card-grid_wowjc_1",contents:Qe,title:Ye,desc:et,image:tt,skeleton:rt,error:st},jt=t=>{const e=Te(),r=s.jsx(at,{className:t.source==="tmdb"?"!w-screen max-w-full":""});return e?s.jsx(Ne,{placeholder:r,children:s.jsx(nt,{...t,placeholder:r})}):r},nt=t=>{const{id:e,source:r=$.Self,className:u,fallbackUrl:m}=t,[a,c]=v.useState(!0),[d,h]=v.useState(!1),[f,b]=v.useState(m||"javascript:;"),[y,P]=v.useState(),_=Ie(),k=Ve(),C=v.useCallback(async n=>{if(k)return;_(f)&&Ee(n)},[f,k,_]),E=Xe("tmdb"),X=v.useCallback((n,l)=>{const p={[$.MixSpace]:fe,[$.GHRepo]:ot,[$.GHCommit]:it,[$.GHPr]:lt,[$.Self]:fe,[$.LEETCODE]:ut};E&&(p[$.TMDB]=ct);const g=p[n];if(!g)return{isValid:!1,fetchFn:null};const x=g.isValid(l);return{isValid:x,fetchFn:x?g.fetch:null}},[E]),{isValid:Q,fetchFn:S}=v.useMemo(()=>X(r,e),[r,e]),I=v.useCallback(async()=>{S&&(c(!0),await S(e,P,b).catch(n=>{console.error("fetch card info error:",n),h(!0)}),c(!1))},[S,e]),{ref:U}=ge({triggerOnce:!0,onChange(n){n&&I()}}),M=ee(0),R=ee(0),A=ee(0),W=v.useCallback(({clientX:n,clientY:l,currentTarget:p})=>{const g=p.getBoundingClientRect();M.set(n-g.left),R.set(l-g.top),A.set(Math.hypot(g.width,g.height)*1.3)},[M,R,A]),z=Se`radial-gradient(${A}px circle at ${M}px ${R}px, var(--spotlight-color) 0%, transparent 65%)`;if(!Q)return null;const i=r==="self"?pe:"a",o=y?.classNames||{};return a?s.jsx("a",{ref:U,href:f,target:r!=="self"?"_blank":"_self",rel:"noreferrer",children:t.placeholder}):s.jsxs(i,{href:f,target:r!=="self"?"_blank":"_self",className:te(j["card-grid"],(a||d)&&j.skeleton,d&&j.error,"not-prose","group",u,o.cardRoot),style:{borderColor:y?.color?`${y.color}30`:void 0},onClick:C,onMouseMove:W,children:[y?.color&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundColor:y?.color,opacity:.06}}),s.jsx(re.div,{layout:!0,className:"absolute inset-0 z-0 opacity-0 duration-500 group-hover:opacity-100",style:{"--spotlight-color":`${y?.color}50`,background:z}})]}),s.jsxs("span",{className:j.contents,children:[s.jsx("span",{className:j.title,children:y?.title}),s.jsx("span",{className:j.desc,children:y?.desc})]}),(a||y?.image)&&s.jsx("span",{className:te(j.image,o.image),"data-image":y?.image||"",style:{backgroundImage:y?.image?`url(${y.image})`:void 0}})]})},at=({className:t})=>s.jsxs("span",{className:te(j["card-grid"],j.skeleton,t),children:[s.jsxs("span",{className:j.contents,children:[s.jsx("span",{className:j.title}),s.jsx("span",{className:j.desc})]}),s.jsx("span",{className:j.image})]}),ot={isValid:t=>{const e=t.split("/");return e.length===2&&e[0].length>0&&e[1].length>0},fetch:async(t,e,r)=>{const[u,m]=t.split("/");try{const a=await ne(`https://api.github.com/repos/${u}/${m}`),c=J(a);e({title:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"flex-1",children:c.name}),s.jsx("span",{className:"shrink-0 self-end justify-self-end",children:c.stargazersCount>0&&s.jsxs("span",{className:"inline-flex shrink-0 items-center gap-1 self-center text-sm text-orange-400 dark:text-yellow-500",children:[s.jsx("i",{className:"icon-[mingcute--star-line]"}),s.jsx("span",{className:"font-sans font-medium",children:c.stargazersCount})]})})]}),desc:c.description,image:c.owner.avatarUrl,color:De[c.language?.toLowerCase()]}),r(c.htmlUrl)}catch(a){throw console.error("Error fetching GitHub data:",a),a}}},it={isValid:t=>{const e=t.split("/");return e.length===4&&e.every(r=>r.length>0)&&e[2]==="commit"},fetch:async(t,e,r)=>{const[u,m,,a]=t.split("/");try{const c=await ne(`https://api.github.com/repos/${u}/${m}/commits/${a}`),d=J(c);e({title:s.jsx("span",{className:"font-normal",children:d.commit.message.replace(/Signed-off-by:.+/,"")}),desc:s.jsxs("span",{className:"flex items-center space-x-5 font-mono",children:[s.jsxs("span",{className:"text-uk-green-light",children:["+",d.stats.additions]}),s.jsxs("span",{className:"text-uk-red-light",children:["-",d.stats.deletions]}),s.jsx("span",{className:"text-sm",children:d.sha.slice(0,7)}),s.jsxs("span",{className:"text-sm opacity-80",children:[u,"/",m]})]}),image:d.author?.avatarUrl}),r(`https://github.com/${u}/${m}/commit/${a}`)}catch(c){throw console.error("Error fetching GitHub commit data:",c),c}}},lt={isValid:t=>{const e=t.split("/");return e.length===3&&e.every(r=>r.length>0)},fetch:async(t,e,r)=>{const[u,m,a]=t.split("/");try{const c=await ne(`https://api.github.com/repos/${u}/${m}/pulls/${a}`),d=J(c);e({title:`PR: ${d.title}`,desc:s.jsxs("span",{className:"flex items-center space-x-5 font-mono",children:[s.jsxs("span",{className:"text-uk-green-light",children:["+",d.additions]}),s.jsxs("span",{className:"text-uk-red-light",children:["-",d.deletions]}),s.jsxs("span",{className:"text-sm opacity-80",children:[u,"/",m]})]}),image:d.user.avatarUrl}),r(d.htmlUrl)}catch(c){throw console.error("Error fetching GitHub PR data:",c),c}}},fe={isValid:t=>{const[e,...r]=t.split("/");return e!=="posts"&&e!=="notes"?!1:e==="posts"?r.length===2:r.length===1},fetch:async(t,e,r)=>{const[u,...m]=t.split("/");try{let a={title:"",text:""};if(u==="posts"){const[h,f]=m;a=await le.post.getPost(h,f),r(`/posts/${h}/${f}`)}else if(u==="notes"){const[h]=m;a=(await le.note.getNoteById(+h)).data,r(`/notes/${h}`)}const c=a.cover||a.meta?.cover;let d="";if(c){const h=new Image;h.src=c,h.crossOrigin="Anonymous",h.onload=()=>{e(f=>f?.title!==a.title?f:{...f,color:ke(h)})}}else d=be(a.title,{saturation:[30,35],lightness:[60,70]}).color;e({title:a.title,desc:a.summary||`${Re(a.text).slice(0,50)}...`,image:c||a.images?.[0]?.src,color:d})}catch(a){throw console.error("Error fetching self data:",a),a}}},ct={isValid(t){const[e,r]=t.split("/");return["tv","movie"].includes(e)&&r.length>0},async fetch(t,e,r){const[u,m]=t.split("/");e({classNames:{cardRoot:"!w-full"}});const a=await fetch(`/api/tmdb/${u}/${m}?language=zh-CN`).then(h=>h.json()).catch(h=>{throw console.error("Error fetching TMDB data:",h),h}),c=u==="tv"?a.name:a.title,d=u==="tv"?a.original_name:a.original_title;e({title:s.jsxs("span",{className:"flex flex-wrap items-end gap-2",children:[s.jsx("span",{children:c}),c!==d&&s.jsxs("span",{className:"text-sm opacity-70",children:["(",d,")"]}),s.jsxs("span",{className:"inline-flex shrink-0 items-center gap-1 self-center text-xs text-orange-400 dark:text-yellow-500",children:[s.jsx(Oe,{}),s.jsx("span",{className:"font-sans font-medium",children:a.vote_average>0&&a.vote_average.toFixed(1)})]})]}),desc:s.jsx("span",{className:"line-clamp-none overflow-visible whitespace-pre-wrap",children:a.overview}),image:`https://image.tmdb.org/t/p/w500${a.poster_path}`,color:be(a.name,{saturation:[30,35],lightness:[60,70]}).color,classNames:{image:"self-start !h-[75px] !w-[50px]",cardRoot:"!w-full !flex-row-reverse"}}),a.homepage&&r(a.homepage)}},ut={isValid:t=>typeof t=="string"&&t.length>0,fetch:async(t,e,r)=>{try{const c=await fetch("/api/leetcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`query questionData($titleSlug: String!) {
  question(titleSlug: $titleSlug) {translatedTitle
   difficulty
    likes
     topicTags { translatedName
 }
    stats
  }
}
`,variables:{titleSlug:t}})}).then(async f=>{if(!f.ok)throw new Error("Failed to fetch LeetCode question title");return f.json()}),d=J(c.data.question),h=JSON.parse(d.stats);e({title:s.jsx(s.Fragment,{children:s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"flex-1",children:d.translatedTitle}),s.jsx("span",{className:"shrink-0 self-end justify-self-end",children:d.likes>0&&s.jsxs("span",{className:"inline-flex shrink-0 items-center gap-1 self-center text-sm text-orange-400 dark:text-yellow-500",children:[s.jsx("i",{className:"icon-[mingcute--thumb-up-line]"}),s.jsx("span",{className:"font-sans font-medium",children:d.likes})]})})]})}),desc:s.jsxs(s.Fragment,{children:[s.jsx("span",{className:`mr-4 font-bold ${m(d.difficulty)}`,children:d.difficulty}),s.jsx("span",{className:"overflow-hidden",children:d.topicTags.map(f=>f.translatedName).join(" / ")}),s.jsxs("span",{className:"float-right overflow-hidden",children:["AR: ",h.acRate]})]}),image:"https://upload.wikimedia.org/wikipedia/commons/1/19/LeetCode_logo_black.png",color:u(d.difficulty)}),r(`https://leetcode.cn/problems/${t}/description`)}catch(a){throw console.error("Error fetching LeetCode question data:",a),a}function u(a){switch(a){case"Easy":return"#00BFA5";case"Medium":return"#FFA726";case"Hard":return"#F44336";default:return"#757575"}}function m(a){switch(a){case"Easy":return"text-green-500";case"Medium":return"text-yellow-500";case"Hard":return"text-red-500";default:return"text-gray-500"}}}};export{jt as L,Re as R,se as T,$ as a,Ie as b,Be as c,Ze as d,Xe as u};
